(()=>{var e={};e.id=587,e.ids=[587],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79748:e=>{"use strict";e.exports=require("fs/promises")},33873:e=>{"use strict";e.exports=require("path")},78544:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>g,serverHooks:()=>w,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{POST:()=>l});var a=r(42706),i=r(28203),o=r(45994),u=r(84908),n=r(39187),p=r(79748),c=r(33873),d=r.n(c);async function l(e){try{let t;let r=await e.formData(),s=r.get("aboutTitle"),a=r.get("aboutDesc"),i=JSON.parse(r.get("features")),o=r.get("aboutImageFile");if(o&&"string"!=typeof o){let e=await o.arrayBuffer(),r=Buffer.from(e),s=`about-${Date.now()}-${o.name.replace(/\s/g,"-")}`,a=d().join(process.cwd(),"public/uploads",s);await (0,p.writeFile)(a,r),t=`/uploads/${s}`}return await u.z.siteSettings.update({where:{id:1},data:{aboutTitle:s,aboutDesc:a,...t&&{aboutImage:t}}}),await u.z.aboutFeature.deleteMany({}),await u.z.aboutFeature.createMany({data:i.map((e,t)=>({title:e.title,desc:e.desc,icon:e.icon||"Zap",order:t}))}),n.NextResponse.json({success:!0})}catch(e){return console.error(e),n.NextResponse.json({error:"Gagal update"},{status:500})}}let g=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/settings/about/route",pathname:"/api/settings/about",filename:"route",bundlePath:"app/api/settings/about/route"},resolvedPagePath:"C:\\xampp\\htdocs\\Hexanusa\\src\\app\\api\\settings\\about\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:m,serverHooks:w}=g;function f(){return(0,o.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:m})}},96487:()=>{},78335:()=>{},84908:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var s=r(96330);let a=global.prisma||new s.PrismaClient({log:["query"]})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452],()=>r(78544));module.exports=s})();